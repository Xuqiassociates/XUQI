<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>XUQI Associates - Welcome</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    }

    /* 背景轮播 */
    .slider {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: -1;
    }

    .slide {
      position: absolute;
      width: 100%; height: 100%;
      background-size: cover;
      background-position: center;
      opacity: 0;
      transition: opacity 1s ease-in-out;
    }

    .slide.active { opacity: 1; }

    /* 中央文字 */
    .landing-text {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      cursor: pointer;
      text-align: center;
      color: #fff;
      font-size: 4rem;
      font-weight: 700;
      text-shadow: 2px 2px 10px rgba(0,0,0,0.6);
      z-index: 10;
      white-space: nowrap;
      transition: transform 0.3s ease, text-shadow 0.3s ease;
    }

    .landing-text:hover {
      transform: translate(-50%, -50%) scale(1.05);
      text-shadow: 2px 2px 20px rgba(255,255,255,0.7);
    }

    /* logo */
    .landing-logo {
      position: absolute;
      top: 10%; left: 50%;
      transform: translateX(-50%);
      cursor: pointer;
      z-index: 10;
      transition: transform 0.3s ease, filter 0.3s ease;
    }

    .landing-logo img {
      width: 150px;
      height: auto;
    }

    .landing-logo:hover {
      transform: translateX(-50%) scale(1.05);
      filter: brightness(1.2);
    }

    /* 点击波纹动画 */
    .ripple {
      position: absolute;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.5);
      transform: scale(0);
      animation: ripple-effect 0.6s linear;
      pointer-events: none;
    }

    @keyframes ripple-effect {
      to { transform: scale(4); opacity: 0; }
    }

    /* 底部圆点导航 */
    .dots {
      position: absolute;
      bottom: 40px;
      width: 100%;
      text-align: center;
      z-index: 10;
    }

    .dots span {
      display: inline-block;
      width: 12px;
      height: 12px;
      margin: 0 6px;
      background: rgba(255,255,255,0.5);
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .dots span.active {
      background: #fff;
      transform: scale(1.3);
    }

    .dots span:hover {
      background: rgba(255,255,255,0.8);
      transform: scale(1.2);
    }

    @media (max-width: 768px) {
      .landing-text { font-size: 2.5rem; }
      .landing-logo img { width: 120px; }
    }
  </style>
</head>
<body>
  <!-- 背景轮播 -->
  <div class="slider">
    <div class="slide active" style="background-image: url('assets/landingpage1.png');"></div>
    <div class="slide" style="background-image: url('assets/landingpage2.png');"></div>
    <div class="slide" style="background-image: url('assets/landingpage3.png');"></div>
    <div class="slide" style="background-image: url('assets/landingpage4.png');"></div>
    <div class="slide" style="background-image: url('assets/landingpage5.png');"></div>
  </div>

  <!-- 中央文字 -->
  <div class="landing-text" onclick="goHome()">XUQI ASSOCIATES</div> <!-- RED: 新增 onclick 调用 goHome -->

  <!-- logo -->
  <div class="landing-logo" onclick="goHome()"> <!-- RED: 新增 onclick 调用 goHome -->
    <img src="assets/Logo" alt="XUQI Associates Logo">
  </div>

  <!-- 底部圆点导航 -->
  <div class="dots">
    <span class="active"></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
  </div>

  <script>
    const slides = document.querySelectorAll('.slide');
    const dots = document.querySelectorAll('.dots span');
    const landingText = document.querySelector('.landing-text'); // RED: 用于波纹和点击跳转
    const landingLogo = document.querySelector('.landing-logo'); // RED: 用于波纹和点击跳转
    let current = 0;
    let interval = null;

    function goHome() {  /* RED: 新增函数，点击文字或logo进入首页并显示波纹 */
      const ripple = document.createElement('div');
      ripple.classList.add('ripple');
      const rect = landingLogo.getBoundingClientRect();
      ripple.style.left = `${rect.width/2}px`;
      ripple.style.top = `${rect.height/2}px`;
      landingLogo.appendChild(ripple);
      setTimeout(() => ripple.remove(), 600);
      setTimeout(() => window.location.href = 'index.html', 150);
    }

    function showSlide(index) {
      slides.forEach((s, i) => s.classList.remove('active'));
      slides[index].classList.add('active');
      dots.forEach((d,i)=>d.classList.remove('active'));
      dots[index].classList.add('active');
      current = index;
    }

    // 自动轮播
    function startSlider() {
      interval = setInterval(() => {
        let next = (current + 1) % slides.length;
        showSlide(next);
      }, 5000);
    }

    startSlider();

    // 点击圆点手动切换
    dots.forEach((dot, i) => {
      dot.addEventListener('click', () => {
        showSlide(i);
        clearInterval(interval);
        startSlider();
      });
    });

    // RED: 新增触摸手势，左右滑动切换轮播，上滑进入首页
    let startX = 0, startY = 0;
    document.addEventListener('touchstart', (e) => {
      startX = e.touches[0].clientX;
      startY = e.touches[0].clientY;
    }, {passive:true});

    document.addEventListener('touchend', (e) => {
      const endX = e.changedTouches[0].clientX;
      const endY = e.changedTouches[0].clientY;
      const deltaX = endX - startX;
      const deltaY = endY - startY;

      // 上滑进入首页
      if (Math.abs(deltaY) > Math.abs(deltaX) && deltaY < -50) {
        window.location.href = 'index.html';
        return;
      }

      // 左右滑切换
      if (Math.abs(deltaX) > Math.abs(deltaY)) {
        if (deltaX > 50) {
          showSlide((current - 1 + slides.length) % slides.length);
        } else if (deltaX < -50) {
          showSlide((current + 1) % slides.length);
        }
        clearInterval(interval);
        startSlider();
      }
    }, {passive:true});
  </script>
</body>
</html>
